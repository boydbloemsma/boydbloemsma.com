---
import { getCollection } from "astro:content";
import Layout from '../layouts/Layout.astro';
import Button from "../components/Button.astro";

const articles = await getCollection('blog');
---

<Layout>
	<section>
		<div class="px-8 py-16 mx-auto md:px-12 lg:px-32 max-w-7xl relative">
			<div class="max-w-2xl lg:flex-auto">
				<h1
					class="text-4xl mt-4 font-semibold tracking-tight text-gray-900 lg:text-5xl lg:text-balance"
				>
					About me
				</h1>
				<p class="text-base font-medium mt-4 text-gray-500">
					Hey, I'm Boyd Bloemsma.
					I'm a software developer and tinkerer.
					I love making things and having lots of
					<a href="#projects" class="text-black underline decoration-zinc-300 hover:text-zinc-700">side projects</a>
					going.
				</p>
			</div>
		</div>
	</section>

	<section>
		<div class="px-8 py-16 mx-auto md:px-12 lg:px-32 max-w-7xl relative">
			<h2 class="text-4xl mt-4 font-semibold tracking-tight text-zinc-900 lg:text-5xl lg:text-balance">
				Recent articles
			</h2>

			<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mt-10">
				{articles.map(article =>
					<article class="relative isolate flex flex-col gap-8">
						<div class="flex flex-col justify-between">
							<div>
								<h3
									class="tracking-tight text-xl font-medium text-gray-900 pt-8 lg:pt-0"
								>
									<a href={`/articles/${article.id}`}>
										<span class="absolute inset-0"></span>
										{ article.data.title }
									</a>
								</h3>
								<div class="mt-2 mb-4 text-base text-gray-500 line-clamp-3">
									<p>
										{ article.data.excerpt }
									</p>
								</div>
							</div>
							<div class="mt-6">
								<div class="text-xs text-gray-500 leading-6 flex justify-between">
									<dl>
										<dt class="sr-only">
											{ article.data.date.toISOString().split('T')[0] }
										</dt>
										<dd>
											<time datetime="{{ $article->date->format('Y-m-d') }}">
												{ article.data.date.toISOString().split('T')[0] }
											</time>
										</dd>
									</dl>
									<span>
										todo views
                					</span>
								</div>
							</div>
						</div>
					</article>
				)}
			</div>

			<div class="mt-6">
				<Button href="/articles">
					Read more articles
				</Button>
			</div>
		</div>
	</section>

	<section id="projects">
		<div class="px-8 py-16 mx-auto md:px-12 lg:px-32 max-w-7xl relative">
			<div>
				<h2
					class="text-4xl mt-4 font-semibold tracking-tight text-gray-900 lg:text-5xl lg:text-balance"
				>
					Projects
				</h2>
				<p class="mt-6 text-base font-medium text-gray-500">
					Things I'm working on.
				</p>
			</div>
			<div class="mt-12 space-y-8">
				<div>
					<div class="text-left select-none text-gray-900">
						Shelveless
					</div>
					<div class="mt-2 text-sm text-gray-500">
						When you start reading books, people will want to lend you books they've enjoyed.
						And once you've acquired a few books yourself, you will want to lend them out to others.
						This is a part of life; humans love to share stories, experiences and joy.
						Shelveless came from this idea.
						Add your friends and keep track of the books you share.
					</div>
					<div class="mt-2">
						<a href="https://shelveless.com/" target="_blank" class="text-black underline decoration-zinc-300 hover:text-zinc-700">
							https://shelveless.com
						</a>
					</div>
				</div>

				<div>
					<div class="text-left select-none text-gray-900">
						localpantry.shop
					</div>
					<div class="mt-2 text-sm text-gray-500">
						A website for artisans to display their products.
						It's a simple way to showcase their products and get more customers.
					</div>
					<div class="mt-2">
						<a href="https://localpantry.shop/" target="_blank" class="text-black underline decoration-zinc-300 hover:text-zinc-700">
							https://localpantry.shop
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>
</Layout>
